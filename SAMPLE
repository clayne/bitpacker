Sample output from bitpacker.
First block is bytes to pack showing bits
Second block is packed bytes.
Third block is unpacked bytes from block 2.

You can easily see the bit shifting by following diagonals
from top right to bottom left. Using the same character
for testing makes packing easier to see.

First column is printable character byte to pack
Second column is the ASCII code
Third+ columns are bits 7 to 0

The middle group are the packed bytes.
The right group are the unpacked bytes.

$ ./bptest 111111111

Input length is:    9
Output length is:   8
Unpack length is:   9

Char: 7 6 5 4 3 2 1 0     Char: 7 6 5 4 3 2 1 0     Char: 7 6 5 4 3 2 1 0
---------------------     ---------------------     ---------------------
1 31: 0 0 1 1 0 0 0 1     b 62: 0 1 1 0 0 0 1 0     1 31: 0 0 1 1 0 0 0 1
1 31: 0 0 1 1 0 0 0 1       C5: 1 1 0 0 0 1 0 1     1 31: 0 0 1 1 0 0 0 1
1 31: 0 0 1 1 0 0 0 1       8B: 1 0 0 0 1 0 1 1     1 31: 0 0 1 1 0 0 0 1
1 31: 0 0 1 1 0 0 0 1       16: 0 0 0 1 0 1 1 0     1 31: 0 0 1 1 0 0 0 1
1 31: 0 0 1 1 0 0 0 1     , 2C: 0 0 1 0 1 1 0 0     1 31: 0 0 1 1 0 0 0 1
1 31: 0 0 1 1 0 0 0 1     X 58: 0 1 0 1 1 0 0 0     1 31: 0 0 1 1 0 0 0 1
1 31: 0 0 1 1 0 0 0 1       B1: 1 0 1 1 0 0 0 1     1 31: 0 0 1 1 0 0 0 1
1 31: 0 0 1 1 0 0 0 1     b 62: 0 1 1 0 0 0 1 0     1 31: 0 0 1 1 0 0 0 1
1 31: 0 0 1 1 0 0 0 1     - --: - - - - - - - -     1 31: 0 0 1 1 0 0 0 1

$ ./bptest AAAAAAAAA

Input length is:    9
Output length is:   8
Unpack length is:   9

Char: 7 6 5 4 3 2 1 0     Char: 7 6 5 4 3 2 1 0     Char: 7 6 5 4 3 2 1 0
---------------------     ---------------------     ---------------------
A 41: 0 1 0 0 0 0 0 1       83: 1 0 0 0 0 0 1 1     A 41: 0 1 0 0 0 0 0 1
A 41: 0 1 0 0 0 0 0 1       06: 0 0 0 0 0 1 1 0     A 41: 0 1 0 0 0 0 0 1
A 41: 0 1 0 0 0 0 0 1       0C: 0 0 0 0 1 1 0 0     A 41: 0 1 0 0 0 0 0 1
A 41: 0 1 0 0 0 0 0 1       18: 0 0 0 1 1 0 0 0     A 41: 0 1 0 0 0 0 0 1
A 41: 0 1 0 0 0 0 0 1     0 30: 0 0 1 1 0 0 0 0     A 41: 0 1 0 0 0 0 0 1
A 41: 0 1 0 0 0 0 0 1     ` 60: 0 1 1 0 0 0 0 0     A 41: 0 1 0 0 0 0 0 1
A 41: 0 1 0 0 0 0 0 1       C1: 1 1 0 0 0 0 0 1     A 41: 0 1 0 0 0 0 0 1
A 41: 0 1 0 0 0 0 0 1       82: 1 0 0 0 0 0 1 0     A 41: 0 1 0 0 0 0 0 1
A 41: 0 1 0 0 0 0 0 1     - --: - - - - - - - -     A 41: 0 1 0 0 0 0 0 1

$ ./bptest "The quick brown fox jumped over the lazy dog!"

Input length is:   45
Output length is:  40
Unpack length is:  45

Char: 7 6 5 4 3 2 1 0     Char: 7 6 5 4 3 2 1 0     Char: 7 6 5 4 3 2 1 0
---------------------     ---------------------     ---------------------
T 54: 0 1 0 1 0 1 0 0       A9: 1 0 1 0 1 0 0 1     T 54: 0 1 0 1 0 1 0 0
h 68: 0 1 1 0 1 0 0 0       A3: 1 0 1 0 0 0 1 1     h 68: 0 1 1 0 1 0 0 0
e 65: 0 1 1 0 0 1 0 1     * 2A: 0 0 1 0 1 0 1 0     e 65: 0 1 1 0 0 1 0 1
  20: 0 0 1 0 0 0 0 0       0E: 0 0 0 0 1 1 1 0       20: 0 0 1 0 0 0 0 0
q 71: 0 1 1 1 0 0 0 1     = 3D: 0 0 1 1 1 1 0 1     q 71: 0 1 1 1 0 0 0 1
u 75: 0 1 1 1 0 1 0 1     t 74: 0 1 1 1 0 1 0 0     u 75: 0 1 1 1 0 1 0 1
i 69: 0 1 1 0 1 0 0 1       E3: 1 1 1 0 0 0 1 1     i 69: 0 1 1 0 1 0 0 1
c 63: 0 1 1 0 0 0 1 1       D6: 1 1 0 1 0 1 1 0     c 63: 0 1 1 0 0 0 1 1
k 6B: 0 1 1 0 1 0 1 1       83: 1 0 0 0 0 0 1 1     k 6B: 0 1 1 0 1 0 1 1
  20: 0 0 1 0 0 0 0 0       17: 0 0 0 1 0 1 1 1       20: 0 0 1 0 0 0 0 0
b 62: 0 1 1 0 0 0 1 0     - 2D: 0 0 1 0 1 1 0 1     b 62: 0 1 1 0 0 0 1 0
r 72: 0 1 1 1 0 0 1 0       FD: 1 1 1 1 1 1 0 1     r 72: 0 1 1 1 0 0 1 0
o 6F: 0 1 1 0 1 1 1 1       F7: 1 1 1 1 0 1 1 1     o 6F: 0 1 1 0 1 1 1 1
w 77: 0 1 1 1 0 1 1 1       20: 0 0 1 0 0 0 0 0     w 77: 0 1 1 1 0 1 1 1
n 6E: 0 1 1 0 1 1 1 0       CD: 1 1 0 0 1 1 0 1     n 6E: 0 1 1 0 1 1 1 0
  20: 0 0 1 0 0 0 0 0       BF: 1 0 1 1 1 1 1 1       20: 0 0 1 0 0 0 0 0
f 66: 0 1 1 0 0 1 1 0       C2: 1 1 0 0 0 0 1 0     f 66: 0 1 1 0 0 1 1 0
o 6F: 0 1 1 0 1 1 1 1       0D: 0 0 0 0 1 1 0 1     o 6F: 0 1 1 0 1 1 1 1
x 78: 0 1 1 1 1 0 0 0     ] 5D: 0 1 0 1 1 1 0 1     x 78: 0 1 1 1 1 0 0 0
  20: 0 0 1 0 0 0 0 0     v 76: 0 1 1 1 0 1 1 0       20: 0 0 1 0 0 0 0 0
j 6A: 0 1 1 0 1 0 1 0       F0: 1 1 1 1 0 0 0 0     j 6A: 0 1 1 0 1 0 1 0
u 75: 0 1 1 1 0 1 0 1       CB: 1 1 0 0 1 0 1 1     u 75: 0 1 1 1 0 1 0 1
m 6D: 0 1 1 0 1 1 0 1       91: 1 0 0 1 0 0 0 1     m 6D: 0 1 1 0 1 1 0 1
p 70: 0 1 1 1 0 0 0 0       06: 0 0 0 0 0 1 1 0     p 70: 0 1 1 1 0 0 0 0
e 65: 0 1 1 0 0 1 0 1       FE: 1 1 1 1 1 1 1 0     e 65: 0 1 1 0 0 1 0 1
d 64: 0 1 1 0 0 1 0 0       D9: 1 1 0 1 1 0 0 1     d 64: 0 1 1 0 0 1 0 0
  20: 0 0 1 0 0 0 0 0     y 79: 0 1 1 1 1 0 0 1       20: 0 0 1 0 0 0 0 0
o 6F: 0 1 1 0 1 1 1 1       20: 0 0 1 0 0 0 0 0     o 6F: 0 1 1 0 1 1 1 1
v 76: 0 1 1 1 0 1 1 0       E9: 1 1 1 0 1 0 0 1     v 76: 0 1 1 1 0 1 1 0
e 65: 0 1 1 0 0 1 0 1       A3: 1 0 1 0 0 0 1 1     e 65: 0 1 1 0 0 1 0 1
r 72: 0 1 1 1 0 0 1 0     * 2A: 0 0 1 0 1 0 1 0     r 72: 0 1 1 1 0 0 1 0
  20: 0 0 1 0 0 0 0 0       0D: 0 0 0 0 1 1 0 1       20: 0 0 1 0 0 0 0 0
t 74: 0 1 1 1 0 1 0 0       98: 1 0 0 1 1 0 0 0     t 74: 0 1 1 1 0 1 0 0
h 68: 0 1 1 0 1 0 0 0     } 7D: 0 1 1 1 1 1 0 1     h 68: 0 1 1 0 1 0 0 0
e 65: 0 1 1 0 0 1 0 1     y 79: 0 1 1 1 1 0 0 1     e 65: 0 1 1 0 0 1 0 1
  20: 0 0 1 0 0 0 0 0     A 41: 0 1 0 0 0 0 0 1       20: 0 0 1 0 0 0 0 0
l 6C: 0 1 1 0 1 1 0 0       93: 1 0 0 1 0 0 1 1     l 6C: 0 1 1 0 1 1 0 0
a 61: 0 1 1 0 0 0 0 1     ~ 7E: 0 1 1 1 1 1 1 0     a 61: 0 1 1 0 0 0 0 1
z 7A: 0 1 1 1 1 0 1 0     t 74: 0 1 1 1 0 1 0 0     z 7A: 0 1 1 1 1 0 1 0
y 79: 0 1 1 1 1 0 0 1       20: 0 0 1 0 0 0 0 0     y 79: 0 1 1 1 1 0 0 1
  20: 0 0 1 0 0 0 0 0     - --: - - - - - - - -       20: 0 0 1 0 0 0 0 0
d 64: 0 1 1 0 0 1 0 0     - --: - - - - - - - -     d 64: 0 1 1 0 0 1 0 0
o 6F: 0 1 1 0 1 1 1 1     - --: - - - - - - - -     o 6F: 0 1 1 0 1 1 1 1
g 67: 0 1 1 0 0 1 1 1     - --: - - - - - - - -     g 67: 0 1 1 0 0 1 1 1
! 21: 0 0 1 0 0 0 0 1     - --: - - - - - - - -     ! 21: 0 0 1 0 0 0 0 1

Peter Hyman
Copyright 2022
pete@peterhyman.com
